- # 业务流程梳理

## 界面交互

### SellNft/创建nft
<br>
<div align=center>
  <img src="res/images/nft-market-1.png" width="80%"></img>
</div>  

调用的合约是`createToken(string memory tokenURI, uint256 price)`  
> Mints a token and lists it in the marketplace  

<br>
<div align=center>
  <img src="res/images/nft-market-2.png" width="80%"></img>
</div>  

### Home
<br>
<div align=center>
  <img src="res/images/nft-market-3.png" width="80%"></img>
</div>  

### MyNft
<br>
<div align=center>
  <img src="res/images/nft-market-4.png" width="80%"></img>
</div>  

自己的nft可以重新标价，买给市场  

<br>
<div align=center>
  <img src="res/images/nft-market-6.png" width="80%"></img>
</div>  

## 整体流程

## 疑问及拓展
### ipfs公共网关504 

如果使用本地的ipfs服务，需要更新`api接口`和`网关地址`  

`QmQquFGctuYFk2VLxQUuo3QynMAdqdqTY974JGhyBZ2iSo:1          GET https://ipfs.io/ipfs/QmQquFGctuYFk2VLxQUuo3QynMAdqdqTY974JGhyBZ2iSo 504`  

`add`只是添加路径，为了添加到合约中`createToken:https://ipfs.io/ipfs/QmZ4t2BbADcmyRZDHoWuF4E4oswMZNeQsCecUAWhzHq5BR`  

```
https://ipfs.io/ipfs/QmZ4t2BbADcmyRZDHoWuF4E4oswMZNeQsCecUAWhzHq5BR
返回值
{"name":"test1","description":"test1","image":"https://ipfs.io/ipfs/QmUffoK7o92C8k58xY4fMHcCN1oZ8DBEZnybkokQxvj65m"}  
```

修改成本地网关: 访问路径就是`网关`+`/ipfs/`+`CID`
<br>
<div align=center>
  <img src="res/images/nft-market-5.png" width="80%"></img>
</div>  

访问:`http://localhost:8080/ipfs/QmUffoK7o92C8k58xY4fMHcCN1oZ8DBEZnybkokQxvj65m`->`http://bafybeic6avrz4w3jj5thdqslkaxm5lfcwcavmraayhh3svuwl3znl656ja.ipfs.localhost:8080/`  


